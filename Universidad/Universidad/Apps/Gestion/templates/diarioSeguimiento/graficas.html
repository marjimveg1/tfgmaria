{% extends "base.html" %}
{% load i18n static %}

{% block contenido %}


 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

   google.charts.load('current', {packages: ['corechart', 'line']});
    google.charts.setOnLoadCallback(grafica_pesoMama);
    google.charts.setOnLoadCallback(grafica_pesoBebe);

function grafica_pesoMama() {

      var data_pesoMama = new google.visualization.DataTable();
      data_pesoMama.addColumn('date', 'X');
      data_pesoMama.addColumn('number', 'Peso');



      data_pesoMama.addRows(convertirDatatable_pesoMama());


      var options_pesoMama = {
        hAxis: {
          title: 'Fecha',
          format:'dd/MM'
        },
        vAxis: {
          title: 'Peso (Kg)',

        },
         backgroundColor: '#FCFCFC',
         series: {
            0: { color: '#6C757D' }
            },
         title: 'Mi peso',
         titleTextStyle: {
             fontSize: 32,
             color: '#444444'

          },

      };

      var chart_pesoMama = new google.visualization.LineChart(document.getElementById('grafica_pesoMama'));

      chart_pesoMama.draw(data_pesoMama, options_pesoMama);
    }

    function convertirDatatable_pesoMama(){
        var lista = {{lista_pesoMama}}
        var res = [];
        for (var i=0; i<lista.length; i++){

            unArray = lista[i];
            dia = unArray[0];
            mes = unArray[1];
            año = unArray[2];
            peso = unArray[3];

            fecha = new Date(año,mes,dia)

            var arrayCreado = [fecha, peso];
            res.push(arrayCreado);

        }


        return res;

    }
    //------------------------------------------------------------------------------------------------------
    function grafica_pesoBebe() {

      var data_pesoBebe = new google.visualization.DataTable();
      data_pesoBebe.addColumn('date', 'X');
      data_pesoBebe.addColumn('number', 'Peso');



      data_pesoBebe.addRows(convertirDatatable_pesoBebe());


      var options_pesoBebe = {
        hAxis: {
          title: 'Fecha',
          format:'dd/MM'
        },
        vAxis: {
          title: 'Peso (Kg)',

        },
         backgroundColor: '#FCFCFC',
         series: {
            0: { color: '#6C757D' }
            },
         title: 'Peso de mi bebé',
         titleTextStyle: {
             fontSize: 32,
             color: '#444444'

          },

      };

      var chart_pesoBebe = new google.visualization.LineChart(document.getElementById('grafica_pesoBebe'));

      chart_pesoBebe.draw(data_pesoBebe, options_pesoBebe);
    }

    function convertirDatatable_pesoBebe(){
        var lista = {{lista_pesoBebe}}
        var res = [];
        for (var i=0; i<lista.length; i++){

            unArray = lista[i];
            dia = unArray[0];
            mes = unArray[1];
            año = unArray[2];
            peso = unArray[3];

            fecha = new Date(año,mes,dia)

            var arrayCreado = [fecha, peso];
            res.push(arrayCreado);

        }


        return res;

    }
  </script>





<div class=" row m-5 pr-lg-5 pl-lg-5  d-flex  justify-content-center ">
    <div class="col-12">
             <h1 align="center"  class="nav justify-content-center tituloView">Gráficas</h1>

        <hr style="width: 60%">
    </div>



</div>


<div class="container">


    <div class="row py-2">
        <div  class="col-12  col-sm-12 col-md-6 text-center mb-4">
            <div id="grafica_pesoMama"></div>
        </div>
        <div  class="col-12  col-sm-12 col-md-6 text-center mb-4">
            <div id="grafica_pesoBebe"></div>
        </div>
    </div>

    <div class="row py-2">
        <div  class="col-12  col-sm-12 col-md-6 text-center mb-4">
            <div id="grafica_contracciones"></div>
        </div>
        <div  class="col-12  col-sm-12 col-md-6 text-center mb-4">
            <div id="grafica_patadas"></div>
        </div>
    </div>

    <div class="row py-2">
        <div  class="col-12  col-sm-12 col-md-6 text-center mb-4">
            <div id="grafica_tension"></div>
        </div>
        <div  class="col-12  col-sm-12 col-md-6 text-center mb-4">
            <div id="grafica_medidas"></div>
        </div>
    </div>

</div>

{% endblock %}